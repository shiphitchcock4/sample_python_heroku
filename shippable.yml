language: python

python:
  - 3.4

env:
  global:
    - FOO=FUBU
    - APP_NAME=herokusamplepython 
    - secure: JwSKAdmn+c+plCgDhe0ql0liZtlEntPlbsiR+iScRWYhhCCnkNwZmLbdcTfb/kM91IN2RfGfUpumEKEdJiZjf9nXPm48aDRpcJLT5Phulo/C0zg7DPNlE6nihnVvHy3k2ETaQzAsgaK14so90j6Tz7IHBL2y5ndC0JvaVV0s2piALg65B0Kywppjc+DrfpPYtg2HyFDUpuK6djV+Ib8XtTt6vVBMWqj8hnvvT6U5vAUwCDvc6dfSDi8ah3dmr12qO5scNUJSMvcer9sAxA1G9r9c802NAPfP/uvviEJ0i3CxeFMX0jF+fDpYIrZ6qEprftW7GJWqHFGUOmoBpmaQRdT277ZZvOUCfNVklUT5/UD65B4m9mzQ900ZEjuTx/Eya1GcrVDiO+0JykUxShdlPiQA6C7unwVXbrV8GmXElbvOLcfHGzgQSmiNiLE311PxH/ktaznLbaFOifKCBF58+1h3oBDYQ4JwZ6EflYJtrFLPg2E3rL/YEtgACXitf7hlWtQH8r6X9xaQsO+jgVm7v9t8OgJVM4ONCJDNPVBudxR3kySjfgphuHe0A8apcxyIXHuVOUdhdrb9nhG6T1NTlV2ovKFxqBC4lU+qsUmUGpNVy4SbyPVCWgLBXoVDXmfVgfIimSAkKmge2cfE4aQWyJHf2GHcwPvkQeYysPRgRHI=

  matrix:
    - M1=ONE

build:
  pre_ci:
    - docker build -t=shippabledocker/hitchcock2_sample_python .

  pre_ci_boot:
    image_name: shippabledocker/hitchcock2_sample_python
    image_tag: latest
    pull: false
    options: '--privileged=true --net=bridge -e FOO=true -e BOO=false'

  ci:
    - ps -eax
    - ls -al

  post_ci:
    - docker push shippabledocker/hitchcock2_sample_python


integrations:
  hub:
    - integrationName: ship-docker
      type: docker
      branches: 
        only:
          - master
   
