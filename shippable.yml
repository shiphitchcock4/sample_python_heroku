language: python

python:
  - 3.4

env:
  global:
    - APP_NAME=herokuwithtool
    - secure: zUCAeW46DBGyTmnz4H3Ed+SR+xb3Vz3AHXn2AT+eAgTPgB/8vJ6vfsughNhU8Oh5QKbya4gUyPi3AwDfcfLm/fXWSQ1UU4N1gh1/Kz8HOY/ishQ9x3AQwGoI7ql9rT4+5u8vH1cd+sNhEyFaa+EK3rdUcp9JYplh1+TiZ7cNY/Sf45Lqy+i1bwI1JDvyVQHzXxNcjgQ+p7uhQ67og9yFXGwHqpBBVCMoe1nJA0yOvdLTDD9ICp69QzWquGjUDiwGJTSdx9Z2sipACuMoiJRYgRSZvhaEs4mM3kAF0R8yKTF1Axp9wVCkn5zNy1fK1Md3A9n4xWXQFhzZu5g+2uShGg==
  
    
  after_success:
    - git push -f git@heroku.com:$APP_NAME.git master

build:
  pre_ci:
    - docker build -t=shippabledocker/hitchcock2_sample_python .

  pre_ci_boot:
    image_name: shippabledocker/hitchcock2_sample_python
    image_tag: latest
    pull: false
    options: '--privileged=true --net=bridge -e FOO=true -e BOO=false'

  ci:
    - ps -eax
    - ls -al

  post_ci:
    - docker push shippabledocker/hitchcock2_sample_python


integrations:
  hub:
    - integrationName: ship-docker
      type: docker
    
   
