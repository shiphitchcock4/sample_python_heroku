language: python

python:
  - 3.4

env:
  global:
    
    - APP_NAME=herokutool
    - secure: ackX3azgUupB9I1lhTIvXpbC0kLS5HQz+OnZc4oNj80roWCepQibAhU4MEKW2kt0CRep9n1i1y0A38T6EKtphWFzKNhm6bp41J90ttgqLWzBypD3H/0Ua00DhWQgg6Pks8wIieKXE4aAkzFeJExbiTIZqWuXQh0vGLqgS3WJ5wBehc3ELKGn/qIixkzB2z3+QG0h31G5KxIM36eHWdvoYXox58ssxIHlZnncVo1hq7SYMGNvQjDgHjNuPVwcXuI/H1x459LUBDAxG5hE75kOE/ORwrx6LI7FzzKnFTywFZxOF0kCviMyeZWkUISRgAlqkXMhMYuzLuRyhvDPcp5kAA==
    
  after_success:
    - git push -f git@heroku.com:$APP_NAME.git master

build:
  pre_ci:
    - docker build -t=shippabledocker/hitchcock2_sample_python .

  pre_ci_boot:
    image_name: shippabledocker/hitchcock2_sample_python
    image_tag: latest
    pull: false
    options: '--privileged=true --net=bridge -e FOO=true -e BOO=false'

  ci:
    - ps -eax
    - ls -al

  post_ci:
    - docker push shippabledocker/hitchcock2_sample_python


integrations:
  hub:
    - integrationName: ship-docker
      type: docker
    
   
